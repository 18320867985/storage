<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>

		<link rel="stylesheet" type="text/css" href="../css/all.css" />
		<style type="text/css">

		</style>

	</head>

	<body>

		<div class="form-group form-inline">
			<label for="">year</label>

			<select class="form-control" name="" id="date-year" data-start="1950">

			</select>
			<label for="">Month</label>

			<select class="form-control" name="" id="date-month">

			</select>
			<label for="">date</label>

			<select class="form-control" name="" id="date-day">

			</select>

		</div>

		<script src="../js/config.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/all.js" type="text/javascript" charset="utf-8"></script>

		<!--[if lte IE 8]>
			<script src="../js/respond.min.js" type="text/javascript" charset="utf-8"></script>
		<![endif]-->

		<script type="text/javascript">
			var _year = document.getElementById("date-year");
			var _month = document.getElementById("date-month");
			var _day = document.getElementById("date-day");

			createYear();

			function createYear() {

				var fragment = document.createDocumentFragment();

				var startid = _year.getAttribute("data-start") || 1970;
				startid = Number(startid);
				startid = isNaN(startid) ? 1970 : startid;

				var fragment = document.createDocumentFragment();
				var endId = new Date().getFullYear();

				var _notOption = document.createElement("option");
				_notOption.innerText = "==选择年份==";
				_notOption.value = "";
				_notOption.selected = "selected";
				fragment.appendChild(_notOption);

				for(; startid <= endId; endId--) {
					var _option = document.createElement("option");
					_option.innerText = endId;
					_option.value = endId;
					fragment.appendChild(_option);

				}
				_year.appendChild(fragment);

			}

			_year.onchange = function() {
				createMonth();
			}

			_month.onchange = function() {
				var y = _year.value || "";
				if(y == "") {
					return;
				}
				var m = _month.value || "";
				if(m == "") {
					return;
				}
				y = Number(y);
				m = Number(m);
				var d = 0;
				switch(m) {
					case 1:
						d = 31;
						break;
					case 2:
						d = 30;
						if(y % 400 == 0 || (y % 4 == 0 && y % 100 != 0)) {
							//document.write(num + "是闰年。");
							d = 29;
						} else {
							//document.write(num + "是平年。");
							d = 28;
						}

						break;
					case 3:
						d = 3;
						break;
					case 4:
						d = 30;
						break;
					case 5:
						d = 31;
						break;
					case 6:
						d = 30;
						break;
					case 7:
						d = 31;
						break;
					case 8:
						d = 31;
						break;
					case 9:
						d = 30;
						break;
					case 10:
						d = 31;
						break;
					case 11:
						d = 30;
						break;
					case 12:
						d = 31;
						break;
				}

				createday(d);

			}

			function createMonth() {

				var fragment = document.createDocumentFragment();

				var _notOption = document.createElement("option");
				_notOption.innerText = "==选择月份==";
				_notOption.value = "";
				_notOption.selected = "selected";
				fragment.appendChild(_notOption);
				for(var m = 0; m < 12; m++) {
					var _option = document.createElement("option");
					_option.innerText = m + 1;
					_option.value = m + 1;
					fragment.appendChild(_option);

				}
				_month.appendChild(fragment);

			}

			function createday(max) {

				var fragment = document.createDocumentFragment();
				for(var d = 0; d < max; d++) {
					var _option = document.createElement("option");
					_option.innerText = d + 1;
					_option.value = d + 1;
					fragment.appendChild(_option);

				}
				_day.appendChild(fragment);

			}
		</script>

	</body>

</html>